{"version":3,"sources":["./src/app/pages/login-page/components/login-form/login-form.component.ts","./src/app/pages/login-page/components/login-form/login-form.component.html","./src/app/pages/login-page/login-page-routing.module.ts","./src/app/pages/login-page/login-page.component.ts","./src/app/pages/login-page/login-page.component.html","./src/app/pages/login-page/login-page.module.ts","./src/app/pages/login-page/logout.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuE;;;;;;;;;;;ICOrE,qEAA2C;;;IAyB3C,mFAGqB;;;IADnB,sFAA2B;;;;IAlC/B,6EAOE;IAHA,mYAA8B;IAG9B,qHAAqC;IACrC,yEAAuE;IACvE,sFAWmB;IAVjB,gVAAgC;IAUlC,4DAAmB;IACnB,sFAUmB;IATjB,qVAAmC;IASrC,4DAAmB;IACnB,iJAGC;IACD,0EACE;IAAA,6EAKE;IAAA,kEACF;IAAA,4DAAS;IACX,4DAAM;IACR,4DAAO;;;IA1CL,wFAA6B;IAIR,0DAAe;IAAf,gFAAe;IA0BlC,0DAAkB;IAAlB,8EAAkB;IAOhB,0DAAoD;IAApD,iHAAoD;;;;;IAM1D,0EACE;IAAA,0EACE;IAAA,iGACF;IAAA,4DAAM;IACN,0EACE;IAAA,4EACF;IAAA,4DAAM;IACR,4DAAM;;IANkB,0DAA4B;IAA5B,6IAA4B;IAG5B,0DAAkC;IAAlC,6IAAkC;;;IAK1D,iFAAgE;;AD5CzD,MAAM,kBAAkB;IAE7B,YACU,qBAA4C,EAC5C,MAAc;QADd,0BAAqB,GAArB,qBAAqB,CAAuB;QAC5C,WAAM,GAAN,MAAM,CAAQ;QAExB,cAAS,GAAG,KAAK,CAAC;QAClB,iBAAY,GAAG,EAAE,CAAC;QAClB,YAAO,GAAG,KAAK,CAAC;QAIhB,gBAAW,GAAG,IAAI,CAAC;QACnB,mBAAc,GAAG,IAAI,CAAC;QACtB,UAAK,GAAG,KAAK,CAAC;QAGJ,UAAK,GAAG,IAAI,0DAAY,EAAO,CAAC;IAZvC,CAAC;IAaJ,aAAa,CAAC,KAAa,IAAG,CAAC;IAE/B;;OAEG;IACH,QAAQ,CAAC,IAAY;QACnB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,MAAM,IAAI,GAAG;YACX,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,KAAK,EAAE,IAAI,CAAC,KAAK;SAClB,CAAC;QAEF,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,SAAS,CAC9C,CAAC,GAAQ,EAAE,EAAE;YACX,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;YACzC,IAAI,CAAC,MAAM,CAAC,aAAa,CACvB,gBAAgB,GAAG,GAAG,CAAC,EAAE,GAAG,gBAAgB,GAAG,GAAG,CAAC,EAAE,CACtD,CAAC;QACJ,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC;YACpC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACvB,CAAC,CACF,CAAC;IACJ,CAAC;;oFA7CU,kBAAkB;kGAAlB,kBAAkB;QCX/B,iHAOE;QAuCF,8GACE;QAQF,8IAA0C;;QAtDxC,8EAAqB;QA6ClB,0DAAqB;QAArB,8EAAqB;QASL,0DAAoB;QAApB,6EAAoB;;6FD5C5B,kBAAkB;cAL9B,uDAAS;eAAC;gBACT,QAAQ,EAAE,WAAW;gBACrB,WAAW,EAAE,6BAA6B;gBAC1C,SAAS,EAAE,CAAC,6BAA6B,CAAC;aAC3C;;kBAkBE,oDAAM;;;;;;;;;;;;;;AE5BT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACc;AAEK;AACP;;;AAErD,MAAM,MAAM,GAAW;IACrB,EAAE,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,wEAAkB,EAAE;IAChD,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,iEAAe,EAAE;CAC/C,CAAC;AAMK,MAAM,sBAAsB;;qGAAtB,sBAAsB;sKAAtB,sBAAsB,kBAHxB,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAC9B,4DAAY;mIAEX,sBAAsB,uFAFvB,4DAAY;6FAEX,sBAAsB;cAJlC,sDAAQ;eAAC;gBACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;aACxB;;;;;;;;;;;;;;ACdD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0C;AAEkC;;;;;;AAUrE,MAAM,kBAAkB;IAG7B,YACU,IAAiB,EACjB,KAAqB,EACrB,MAAc,EACd,GAAsB;QAHtB,SAAI,GAAJ,IAAI,CAAa;QACjB,UAAK,GAAL,KAAK,CAAgB;QACrB,WAAM,GAAN,MAAM,CAAQ;QACd,QAAG,GAAH,GAAG,CAAmB;QANzB,eAAU,GAAG,IAAI,CAAC;IAOtB,CAAC;IAEJ,IAAI,SAAS;QACX,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,SAAS,CAAC;IACnD,CAAC;IAED;;;OAGG;IACH,KAAK,CAAC,CAAC,QAAQ,EAAE,QAAQ,IAAI,EAAmB;QAC9C,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,QAAQ,CAAC;aAChC,IAAI,CAAC,4DAAK,EAAE,CAAC;aAEb,IAAI,CAAC,iEAAU,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC;aAC9D,IAAI,CAAC,8DAAO,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;aACpC,SAAS,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC/C,CAAC;IAED;;;;OAIG;IACH,cAAc,CAAC,MAAY;QACzB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,MAAM,IAAI,cAAc,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;IAC9F,CAAC;;oFAlCU,kBAAkB;kGAAlB,kBAAkB;QCZ/B,yEACE;QAAA,0EAAyC;QAC3C,4DAAM;;6FDUO,kBAAkB;cAJ9B,uDAAS;eAAC;gBACT,WAAW,EAAE,6BAA6B;gBAC1C,SAAS,EAAE,CAAC,6BAA6B,CAAC;aAC3C;;;;;;;;;;;;;;AEXD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACM;AACF;AAEwB;AACT;AACP;AAE6B;AACX;AACC;AACc;AACH;AACN;;AAYtE,MAAM,eAAe;;8FAAf,eAAe;wJAAf,eAAe,kBARjB;YACP,4DAAY;YACZ,0DAAW;YACX,iFAAsB;YACtB,oFAAY;YACZ,qFAAgB;SACjB;mIAEU,eAAe,mBATX,wEAAkB,EAAE,iEAAe,EAAE,8FAAkB,EAAE,kGAAuB,EAAE,gGAAsB,EAAE,0FAAoB,aAE3I,4DAAY;QACZ,0DAAW;QACX,iFAAsB;QACtB,oFAAY;QACZ,qFAAgB;6FAGP,eAAe;cAV3B,sDAAQ;eAAC;gBACR,YAAY,EAAE,CAAC,wEAAkB,EAAE,iEAAe,EAAE,8FAAkB,EAAE,kGAAuB,EAAE,gGAAsB,EAAE,0FAAoB,CAAC;gBAC9I,OAAO,EAAE;oBACP,4DAAY;oBACZ,0DAAW;oBACX,iFAAsB;oBACtB,oFAAY;oBACZ,qFAAgB;iBACjB;aACF;;;;;;;;;;;;;;ACxBD;AAAA;AAAA;AAAA;AAAA;AAAkD;;;;AAM3C,MAAM,eAAe;IAE1B,YACU,IAAiB,EACjB,MAAc;QADd,SAAI,GAAJ,IAAI,CAAa;QACjB,WAAM,GAAN,MAAM,CAAQ;IACpB,CAAC;IAEL,QAAQ;QACN,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;QACnB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;IAClC,CAAC;;8EAVU,eAAe;+FAAf,eAAe;6FAAf,eAAe;cAD3B,uDAAS;eAAC,EAAC,QAAQ,EAAE,EAAE,EAAC","file":"pages-login-page-login-page-module-es2015.js","sourcesContent":["import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { AuthenticationService } from 'src/app/services/authentication.service';\nimport { User } from 'src/app/models/user';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login-form.component.html',\n  styleUrls: ['./login-form.component.scss'],\n})\nexport class LoginFormComponent {\n\n  constructor(\n    private authenticationService: AuthenticationService,\n    private router: Router\n  ) {}\n  submitted = false;\n  focusedInput = '';\n  loading = false;\n  email: string;\n  password: string;\n  user: any;\n  emailStatus = true;\n  passwordStatus = true;\n  error = false;\n  errMessage: string;\n\n  @Output() login = new EventEmitter<any>();\n  getInputValue(value: string) {}\n\n  /**\n   * Trigger a login event when submitting the form\n   */\n  onSubmit(form: NgForm) {\n    this.error = false;\n    this.loading = true;\n    const user = {\n      password: this.password,\n      email: this.email,\n    };\n\n    this.authenticationService.login(user).subscribe(\n      (res: any) => {\n        console.log(res);\n        localStorage.setItem('token', res.token);\n        this.router.navigateByUrl(\n          'dashboardPage/' + res.id + '/searchRecipe/' + res.id\n        );\n      },\n      (err) => {\n        this.error = true;\n        this.errMessage = err.error.message;\n        this.loading = false;\n      }\n    );\n  }\n}\n","<form\n  *ngIf=\"!this.loading\"\n  class=\"form\"\n  [class.submitted]=\"submitted\"\n  (submit)=\"onSubmit(loginForm)\"\n  #loginForm=\"ngForm\"\n>\n  <div class=\"loading\" *ngIf=\"loading\"></div>\n  <app-logo class=\"d-flex justify-content-center\" type=\"form\"></app-logo>\n  <app-simple-input\n    (getInput)=\"this.email = $event\"\n    label=\"Email\"\n    type=\"email\"\n    placeholder=\"Email\"\n    icon=\"email\"\n    pattern=\"^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$\"\n    required=\"true\"\n    name=\"email\"\n    (getInputStatus)=\"this.emailStatus = $event\"\n  >\n  </app-simple-input>\n  <app-simple-input\n    (getInput)=\"this.password = $event\"\n    label=\"Password\"\n    type=\"password\"\n    placeholder=\"Password\"\n    icon=\"Password\"\n    name=\"password\"\n    required=\"true\"\n    (getInputStatus)=\"this.passwordStatus = $event\"\n  >\n  </app-simple-input>\n  <app-error-message\n    *ngIf=\"this.error\"\n    [message]=\"this.errMessage\"\n  ></app-error-message>\n  <div class=\"btn-group\">\n    <button\n      type=\"submit\"\n      class=\"btn primary\"\n      [disabled]=\"this.emailStatus || this.passwordStatus\"\n    >\n      LOGIN\n    </button>\n  </div>\n</form>\n<div *ngIf=\"!this.loading\" class=\"d-flex justify-content-between\">\n  <div class=\"register\" [routerLink]=\"['/register']\">\n    You don't have an Account, Register!\n  </div>\n  <div class=\"register\" [routerLink]=\"['/forgotPassword']\">\n    Forgot Password\n  </div>\n</div>\n<!--end .form-->\n<app-loading-spinner *ngIf=\"this.loading\"></app-loading-spinner>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPageComponent } from './login-page.component';\nimport { LogoutComponent } from './logout.component';\n\nconst routes: Routes = [\n  { path: 'login', component: LoginPageComponent },\n  { path: 'logout', component: LogoutComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class LoginPageRoutingModule { }\n","import { Component } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { first, catchError, withLatestFrom, flatMap } from 'rxjs/operators';\n\nimport { AuthService } from '../../services/auth.service';\nimport { NavigationService } from 'src/app/services/navigation.service';\nimport { forkJoin } from 'rxjs';\n\n@Component({\n  templateUrl: './login-page.component.html',\n  styleUrls: ['./login-page.component.scss']\n})\nexport class LoginPageComponent {\n  public authErrors = null;\n\n  constructor(\n    private auth: AuthService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private nav: NavigationService,\n  ) {}\n\n  get returnUrl() {\n    return this.route.snapshot.queryParams.returnUrl;\n  }\n\n  /**\n   * Authenticate user\n   * @param param0 Username & password\n   */\n  login([username, password] = [] as Array<string>) {\n    this.auth.login(username, password)\n      .pipe(first())\n\n      .pipe(catchError(error => (this.authErrors = error.error, [])))\n      .pipe(flatMap(() => this.nav.routes))\n      .subscribe(this.redirectOnAuth.bind(this));\n  }\n\n  /**\n   * On a successful auth event, redirect user either to homepage or returnUrl\n   * ?: move the redirect based on user role (eg. on `Contacts` page for admin) to the dashboard page?\n   * @param path Path to redirect\n   */\n  redirectOnAuth(routes?: any) {\n    this.router.navigate([this.returnUrl || (routes && `/dashboard/${routes[0].path}`) || '/']);\n  }\n}\n","<div class=\"login-content\">\n  <app-login class=\"loginForm\"></app-login>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { LoginPageRoutingModule } from './login-page-routing.module';\nimport { LoginPageComponent } from './login-page.component';\nimport { LogoutComponent } from './logout.component';\n\nimport { LoginFormComponent } from './components/login-form/login-form.component';\nimport { InputsModule } from 'src/app/components/inputs/inputs.module';\nimport { ComponentsModule } from 'src/app/components/components.module';\nimport { ForgotPasswordComponent } from './forgot-password/forgot-password.component';\nimport { ResetPasswordComponent } from './reset-password/reset-password.component';\nimport { ConfirmUserComponent } from './confirm-user/confirm-user.component';\n\n@NgModule({\n  declarations: [LoginPageComponent, LogoutComponent, LoginFormComponent, ForgotPasswordComponent, ResetPasswordComponent, ConfirmUserComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    LoginPageRoutingModule,\n    InputsModule,\n    ComponentsModule,\n  ],\n})\nexport class LoginPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { AuthService } from '../../services/auth.service';\n\n@Component({template: ''})\nexport class LogoutComponent implements OnInit {\n\n  constructor(\n    private auth: AuthService,\n    private router: Router,\n  ) { }\n\n  ngOnInit() {\n    this.auth.logout();\n    this.router.navigate(['login']);\n  }\n}\n"],"sourceRoot":"webpack:///"}